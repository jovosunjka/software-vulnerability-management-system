import { Component, OnInit, Input } from '@angular/core';
import { ThreatsAndVulnerabilities } from 'src/app/shared/model/threats-and-vulnerabilities';
import { Threat } from 'src/app/shared/model/threat';
import { Vulnerability } from 'src/app/shared/model/vulnerability';

/* UNUSED */
@Component({
  selector: 'app-threats-and-vulnerabilities-panel',
  templateUrl: './threats-and-vulnerabilities-panel.component.html',
  styleUrls: ['./threats-and-vulnerabilities-panel.component.css']
})
export class ThreatsAndVulnerabilitiesPanelComponent implements OnInit {

  @Input() threatsAndVulnerabilities: ThreatsAndVulnerabilities;

  selectedThreat: Threat;
  selectedThreatIndex: number;

  selectedVulnerability: Vulnerability;
  selectedVulnerabilityIndex: number;


  constructor() {
  }

  ngOnInit() {
  }

  setSelectedThreatIndex(selectedThreatIndex: number) {
    this.selectedThreatIndex = selectedThreatIndex;
    this.selectedThreat = this.threatsAndVulnerabilities.threats[selectedThreatIndex];
  }

  setSelectedVulnerabilityIndex(selectedVulnerabilityIndex: number) {
    this.selectedVulnerabilityIndex = selectedVulnerabilityIndex;
    this.selectedVulnerability = this.threatsAndVulnerabilities.vulnerabilities[selectedVulnerabilityIndex];
  }

  resetThreatAnalysisPanel() {
    this.selectedThreat = undefined;
    this.selectedThreatIndex = undefined;
  }

  resetVulnerabilityAnalysisPanel() {
    this.selectedVulnerability = undefined;
    this.selectedVulnerabilityIndex = undefined;
  }

}
